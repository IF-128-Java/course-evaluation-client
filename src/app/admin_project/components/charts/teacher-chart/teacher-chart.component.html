<div class="container">
  <h4 style="text-align: center"> Teacher Rating </h4>

  <div class="chart-wrapper" style="margin-left: 100px;max-width: 800px">
  <canvas baseChart
          [data]="chartData"
          [labels]="chartLabels"
          [options]="barChartOptions"
          [plugins]="barChartPlugins"
          [legend]="barChartLegend"
          [chartType]="barChartType">
  </canvas>
</div>

  <table mat-table [dataSource]="chartDataList" class="mat-elevation-z8 " style="margin-left: 100px;max-width: 800px">

    <ng-container matColumnDef="Teacher">
      <th mat-header-cell *matHeaderCellDef>Teacher</th>
      <td class="pointer name-column" mat-cell *matCellDef="let chartDataList, let i = index" (click)="onSelect(i)"> {{ chartDataList.teacherName }}<br>
      </td>
    </ng-container>

    <ng-container matColumnDef="Rate">
      <th mat-header-cell *matHeaderCellDef>Rate</th>
      <td class="pointer" mat-cell *matCellDef="let chartDataList, let i = index" (click)="onSelect(i)"> {{ chartDataList.teacherRate.toFixed(2)}}
        <div *ngIf="activeItem == i">
          <hr>
          <span>{{chartDataList.teacherId}}</span>
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="Actions">
      <th mat-header-cell *matHeaderCellDef> Actions</th>
      <td class="pointer action-column" mat-cell *matCellDef="let chartDataList, let i = index">
        <button mat-stroked-button (click)="showHistory(chartDataList.teacher)" class="button">
          <mat-icon>remove_red_eye</mat-icon>
        </button>
      </td>
    </ng-container>
    <tr id="row" mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"
    ></tr>
  </table>
</div>
